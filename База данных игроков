using System;
using System.Collections.Generic;
using System.Linq;

namespace Player_Database
{
    class Program
    {
        private static void Main()
        {
            List listOfPlayers = new List();
            bool programIsOn = true;

            while (programIsOn)
            {
                Console.SetCursorPosition(0, 20);
                listOfPlayers.DisplayListOfElement();
                Console.SetCursorPosition(0, 0);

                Console.WriteLine("Команды:" +
                    "\n1)Добавление игрока" +
                    "\n2)Бан игрока" +
                    "\n3)Разбан игрока" +
                    "\n4)Удаление игрока" +
                    "\n5)Выйти");
                Console.WriteLine();
                Console.Write("Ответ: ");

                switch (Console.ReadLine())
                {
                    case "1":
                        listOfPlayers.AddElement();
                        break;
                    case "2":
                        listOfPlayers.BanElement();
                        break;
                    case "3":
                        listOfPlayers.UnbanElement();
                        break;
                    case "4":
                        listOfPlayers.DeleteElement();
                        break;
                    case "5":
                        programIsOn = false;
                        break;
                    default:
                        Console.WriteLine();
                        Console.WriteLine("Такой команды нет!!!");
                        Console.ReadKey();
                        break;
                }

                Console.Clear();
            }
        }
    }

    class Player
    {
        private string _name;
        private int _level;
        private bool _isBanned;

        public Player(string nameOfPLayer, int level, bool isBanned)
        {
            _name = nameOfPLayer;
            _level = level;
            _isBanned = isBanned;
        }

        public void ShowInfo(int index)
        {
            Console.WriteLine($"{index + 1})Name - {_name}, Level - {_level}, Is banned - {_isBanned}.");
        }

        public void ChangeState(bool isBanned)
        {
            _isBanned = isBanned;
        }
    }

    class List
    {
        private List<Player> _players = new List<Player>();

        public void DeleteElement()
        {
            Console.Write("\nВведите порядковый индекс игрока, которого хотите удалить: ");
            int playerIndex = Convert.ToInt32(Console.ReadLine()) - 1;
            if (playerIndex >= 0 & playerIndex <= _players.Count - 1)
            {
                _players.RemoveAt(playerIndex);
            }
        }

        public void BanElement()
        {
            Console.Write($"\nВведите порядковый номер игрока, которого хотите забанить: ");
            int playerIndex = Convert.ToInt32(Console.ReadLine()) - 1;
            if (playerIndex >= 0 & playerIndex <= _players.Count - 1)
            {
                _players[playerIndex].ChangeState(true);
            }
        }

        public void UnbanElement()
        {
            Console.Write($"\nВведите порядковый номер игрока, которого хотите разбанить: ");
            int playerIndex = Convert.ToInt32(Console.ReadLine()) - 1;
            if (playerIndex >= 0 & playerIndex <= _players.Count - 1)
            {
                _players[playerIndex].ChangeState(false);
            }
        }

        public void DisplayListOfElement()
        {
            Console.WriteLine("Список игроков:");
            for (int i = 0; i < _players.Count; i++)
            {
                _players[i].ShowInfo(i);
            }
        }

        public void AddElement()
        {
            string nameOfPLayer;
            int level;

            Console.Write("\nВведите имя игрока: ");
            nameOfPLayer = Console.ReadLine();
            Console.Write("Введите уровень игрока: ");
            level = Convert.ToInt32(Console.ReadLine());

            _players.Add(new Player(nameOfPLayer, level, false));
        }
    }
}
